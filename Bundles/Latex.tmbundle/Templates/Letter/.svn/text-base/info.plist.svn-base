<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple Computer//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
	<key>command</key>
	<string>if [[ ! -f "$TM_NEW_FILE" ]]; then
   TM_YEAR=`date +%Y` \
   TM_DATE=`date +%Y-%m-%d` \
   AUTHOR_ADDR=$(ruby &lt;&lt;"EOF" -rplist
file = "#{ENV['HOME']}/Library/Preferences/AddressBookMe.plist"
plist = OSX::PropertyList.load(File.new(file))
print plist['StreetAddr1'] + '\\\\'
print plist['StreetAddr2'] + '\\\\' unless plist['StreetAddr2'].empty?
print plist['ZipPostal'] + " " + plist['City'] + '\\\\'
EOF) \
   perl -pe 's/\$\{([^}]*)\}/$ENV{$1}/g' \
      &lt; letter.tex &gt; "$TM_NEW_FILE"
fi</string>
	<key>extension</key>
	<string>tex</string>
	<key>name</key>
	<string>Letter (for C5 and E65 window envelopes)</string>
	<key>uuid</key>
	<string>66F6C0FF-F105-4B89-8D56-EE8178EB57A0</string>
</dict>
</plist>
